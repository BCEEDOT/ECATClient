<div *tdLoading="'studentProfileLoading'">
  <md-list>
    <h3 md-subheader>Student Information</h3>
    <div *ngIf="!isEditing">
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.contactNumber}}</h4>
        <p md-line>Contact Number</p>
      </md-list-item>
      <md-divider md-inset></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.homeStation}}</h4>
        <p md-line>Home Station</p>
      </md-list-item>
      <md-divider md-inset></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.commander}}</h4>
        <p md-line>Unit Commander</p>
      </md-list-item>
      <md-divider md-inset></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.commanderEmail}}</h4>
        <p md-line>Unit Commander Email</p>
      </md-list-item>
      <md-divider md-inset></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.shirt}}</h4>
        <p md-line>Unit First Sergeant</p>
      </md-list-item>
      <md-divider md-inset></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>description</md-icon>
        <h4 md-line>{{profile?.shirtEmail}}</h4>
        <p md-line>Unit First Sergeant Email</p>
      </md-list-item>
    </div>
    <div *ngIf="isEditing">
      <form #studentProfileForm="ngForm">
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #contactNumberForm="ngModel" placeholder="Contact Number" [(ngModel)]="profile.contactNumber" name="contactNumber"
              maxlength="10" pattern="^\d+$" tdAutoTrim/>
            <md-hint>
              <span [hidden]="contactNumberForm.pristine || !contactNumberForm.errors?.pattern" class="tc-red-600">Numbers only</span>
            </md-hint>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #homeStationForm="ngModel" placeholder="Home Station" [(ngModel)]="profile.homeStation" name="homeStation"
              maxlength="50" tdAutoTrim/>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #unitCommanderForm="ngModel" placeholder="Unit Commander" [(ngModel)]="profile.commander" name="unitCommander"
              maxlength="50" tdAutoTrim/>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #unitCommanderEmailForm="ngModel" placeholder="Unit Commander Email" [(ngModel)]="profile.commanderEmail" name="unitCommanderEmail"
              maxlength="50" tdAutoTrim/>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #unitShirtForm="ngModel" placeholder="Unit First Sergeant" [(ngModel)]="profile.shirt" name="shirt"
              maxlength="50" tdAutoTrim/>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-input-container flex>
            <input mdInput #shirtEmailForm="ngModel" placeholder="Unit First Sergeant Email" [(ngModel)]="profile.shirtEmail" name="shirtEmail"
              maxlength="50" tdAutoTrim/>
          </md-input-container>
        </div>
        <div layout-gt-xs="row" layout-margin>
          <md-divider></md-divider>
          <div class="inset">
            <button md-raised-button color="accent" type="button" [disabled]="!studentProfileForm.valid" (click)="saveStudentProfile()"
              class="text-upper">Save</button>
            <button md-raised-button color="accent" type="button" class="text-upper" (click)="cancelStudentSave();">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </md-list>
  <div *ngIf="!isEditing">
    <md-divider></md-divider>
    <md-card-actions>
      <button (click)="editStudentProfile()" type="button" md-button color="accent" class="text-upper">Edit</button>
    </md-card-actions>
  </div>
</div>