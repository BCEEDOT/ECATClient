<ng-template tdLoading="stratIsLoaded">

  <md-list>
    <md-list-item>
      <span flex="60"></span>
      <span flex="15" class="pad-left md-body-1 tc-grey-500">Strat</span>
      <span flex="15" class="pad-left md-body-1 tc-grey-500">Proposed Change</span>
      <span flex="10"></span>
    </md-list-item>
    <md-divider></md-divider>
    <!--<md-list class="will-load">-->
    <md-list-item>
      <md-icon md-list-avatar>person</md-icon>
      <h3 md-line>{{user?.rankName}}</h3>
      <div flex="20">
        <h3 md-line>{{user?.statusOfPeer[user?.studentId].stratedPosition}}</h3>
      </div>

      <div flex="35">
        <form #userStratForm="ngForm">
          <div layout-margin>
            <md-input-container>
              <input mdInput #userStratForm="ngModel" [(ngModel)]="user.proposedStratPosition" (ngModelChange)="evaluateStrat(); isValid()" name="proposedUserStrat" min="1" max="{{groupCount}}"
                type="number">
            </md-input-container>
          </div>
        </form>
      </div>
      <div flex="10">
        <span *ngIf="user.stratIsValid">
            Valid
        </span>
        <span *ngIf="!user.stratIsValid">
           <span mdTooltip="{{user.stratValidationErrors[0].cat}}" mdTooltipPosition="above" class="tc-red-500" >Invalid</span>
        </span>
      </div>
    </md-list-item>

    <ng-template let-peer let-last="last" ngFor [ngForOf]="peers">
      <md-list-item>
        <md-icon md-list-avatar>person</md-icon>
        <h3 md-line>{{peer?.rankName}}</h3>
        <div flex="20">
          <h3 md-line>{{user?.statusOfPeer[peer?.studentId].stratedPosition}}</h3>
        </div>

        <div flex="35">
          <form #peerStratForm="ngForm">
            <div layout-margin>
              <md-input-container>
                <input mdInput testStratForm="ngModel" [(ngModel)]="peer.proposedStratPosition" (ngModelChange)="evaluateStrat(); isValid()" name="proposedPeerStrat" min="1" max="{{groupCount}}"
                  type="number">
              </md-input-container>
            </div>
          </form>
        </div>
        <div flex="10">
          <span *ngIf="peer.stratIsValid">
            Valid
          </span>
          <span *ngIf="!peer.stratIsValid">
           <span mdTooltip="{{peer.stratValidationErrors[0].cat}}" mdTooltipPosition="above" class="tc-red-500" >Invalid</span>
          </span>
        </div>

      </md-list-item>
    </ng-template>


  </md-list>
  <md-divider></md-divider>

  <md-list-item layout="row" layout-align="end" layout-margin>
    <button md-raised-button color="accent" type="button" [disabled]="isValid()" (click)="saveChanges()" class="text-upper">Save</button>
    <button md-raised-button color="accent" type="button" class="text-upper" (click)="cancelSave();">Cancel</button>
  </md-list-item>

</ng-template>